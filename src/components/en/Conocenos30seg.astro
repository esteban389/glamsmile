<section class="conocenos-30seg" aria-labelledby="conocenos-title">
	<div class="container">
		<header class="intro">
			<h2 id="conocenos-title">Get to know us in 30 seconds</h2>
			<p>We transform smiles, we change lives</p>
		</header>

		<div class="carousel-container">
			<div class="carousel">
				<div class="carousel-track">
					<div class="carousel-slide">
						<video
							src="/assets/conocenos_1.mp4"
							muted
							playsinline
							preload="metadata"
							aria-label="Video: Smile transformations"
							data-duration="0:31"
						></video>
						<div class="slide-info">
							<h3>Complete Transformation</h3>
						</div>
					</div>

					<div class="carousel-slide">
						<video
							src="/assets/conocenos_2.mp4"
							muted
							playsinline
							preload="metadata"
							aria-label="Video: Advanced technology"
							data-duration="0:28"
						></video>
						<div class="slide-info">
							<h3>Advanced Technology</h3>
						</div>
					</div>

					<div class="carousel-slide">
						<video
							src="/assets/conocenos_3.mp4"
							muted
							playsinline
							preload="metadata"
							aria-label="Video: Personalized treatment"
							data-duration="0:35"
						></video>
						<div class="slide-info">
							<h3>Personalized Treatment</h3>
						</div>
					</div>

					<div class="carousel-slide">
						<video
							src="/assets/conocenos_4.mp4"
							muted
							playsinline
							preload="metadata"
							aria-label="Video: Immediate results"
							data-duration="0:42"
						></video>
						<div class="slide-info">
							<h3>Immediate Results</h3>
						</div>
					</div>

					<div class="carousel-slide">
						<video
							src="/assets/conocenos_5.mp4"
							muted
							playsinline
							preload="metadata"
							aria-label="Video: Satisfied patients"
							data-duration="0:29"
						></video>
						<div class="slide-info">
							<h3>Satisfied Patients</h3>
						</div>
					</div>

					<div class="carousel-slide">
						<video
							src="/assets/conocenos_6.mp4"
							muted
							playsinline
							preload="metadata"
							aria-label="Video: Professional team"
							data-duration="0:33"
						></video>
						<div class="slide-info">
							<h3>Professional Team</h3>
						</div>
					</div>
				</div>
			</div>

			<!-- Navigation -->
			<div class="carousel-nav">
				<button class="nav-btn prev-btn" aria-label="Previous video">
					<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
						<polyline points="15,18 9,12 15,6"></polyline>
					</svg>
				</button>
				<button class="nav-btn next-btn" aria-label="Next video">
					<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
						<polyline points="9,18 15,12 9,6"></polyline>
					</svg>
				</button>
			</div>

			<!-- Indicators -->
			<div class="carousel-indicators">
				<button class="indicator active" aria-label="Go to video 1" data-slide="0"></button>
				<button class="indicator" aria-label="Go to video 2" data-slide="1"></button>
				<button class="indicator" aria-label="Go to video 3" data-slide="2"></button>
				<button class="indicator" aria-label="Go to video 4" data-slide="3"></button>
				<button class="indicator" aria-label="Go to video 5" data-slide="4"></button>
				<button class="indicator" aria-label="Go to video 6" data-slide="5"></button>
			</div>
		</div>
	</div>
</section>

<script>
	document.addEventListener('DOMContentLoaded', function() {
		const carousel = document.querySelector('.carousel');
		const track = document.querySelector('.carousel-track');
		const slides = document.querySelectorAll('.carousel-slide');
		const videos = document.querySelectorAll('.carousel-slide video');
		const prevBtn = document.querySelector('.prev-btn');
		const nextBtn = document.querySelector('.next-btn');
		const indicators = document.querySelectorAll('.indicator');
		
		let currentSlide = 0;
		let isPlaying = false;
		let autoplayTimer;
		
		// Initialize
		function init() {
			updateCarousel();
			setupEventListeners();
			startAutoplay();
		}
		
		// Update carousel position and indicators
		function updateCarousel() {
			const slideWidth = slides[0].offsetWidth;
			track.style.transform = `translateX(-${currentSlide * slideWidth}px)`;
			
			// Update indicators
			indicators.forEach((indicator, index) => {
				indicator.classList.toggle('active', index === currentSlide);
			});
			
			// Pause all videos and play current
			videos.forEach((video, index) => {
				if (index === currentSlide) {
					video.currentTime = 0;
					video.play().catch(() => {});
				} else {
					video.pause();
				}
			});
		}
		
		// Navigation functions
		function goToSlide(slideIndex) {
			currentSlide = slideIndex;
			updateCarousel();
			resetAutoplay();
		}
		
		function nextSlide() {
			currentSlide = (currentSlide + 1) % slides.length;
			updateCarousel();
			resetAutoplay();
		}
		
		function prevSlide() {
			currentSlide = (currentSlide - 1 + slides.length) % slides.length;
			updateCarousel();
			resetAutoplay();
		}
		
		// Autoplay functions
		function startAutoplay() {
			autoplayTimer = setInterval(() => {
				if (!isPlaying) {
					nextSlide();
				}
			}, 8000); // 8 seconds per slide
		}
		
		function resetAutoplay() {
			clearInterval(autoplayTimer);
			startAutoplay();
		}
		
		function pauseAutoplay() {
			isPlaying = true;
			clearInterval(autoplayTimer);
		}
		
		function resumeAutoplay() {
			isPlaying = false;
			startAutoplay();
		}
		
		// Event listeners
		function setupEventListeners() {
			// Navigation buttons
			nextBtn.addEventListener('click', nextSlide);
			prevBtn.addEventListener('click', prevSlide);
			
			// Indicators
			indicators.forEach((indicator, index) => {
				indicator.addEventListener('click', () => goToSlide(index));
			});
			
			// Pause autoplay on hover
			carousel.addEventListener('mouseenter', pauseAutoplay);
			carousel.addEventListener('mouseleave', resumeAutoplay);
			
			// Touch/swipe support
			let startX = 0;
			let currentX = 0;
			let isDragging = false;
			
			track.addEventListener('touchstart', (e) => {
				startX = e.touches[0].clientX;
				isDragging = true;
				pauseAutoplay();
			});
			
			track.addEventListener('touchmove', (e) => {
				if (!isDragging) return;
				currentX = e.touches[0].clientX;
			});
			
			track.addEventListener('touchend', () => {
				if (!isDragging) return;
				isDragging = false;
				
				const diff = startX - currentX;
				const threshold = 50;
				
				if (Math.abs(diff) > threshold) {
					if (diff > 0) {
						nextSlide();
					} else {
						prevSlide();
					}
				}
				
				resumeAutoplay();
			});
			
			// Keyboard navigation
			document.addEventListener('keydown', (e) => {
				if (e.key === 'ArrowLeft') {
					prevSlide();
				} else if (e.key === 'ArrowRight') {
					nextSlide();
				}
			});
			
			// Resize handler
			window.addEventListener('resize', updateCarousel);
		}
		
		// Video event listeners
		videos.forEach((video, index) => {
			video.addEventListener('ended', () => {
				if (index === currentSlide) {
					nextSlide();
				}
			});
		});
		
		// Initialize carousel
		init();
	});
</script>

<style>
	.conocenos-30seg {
		background: linear-gradient(180deg, #0a0a0a 0%, #1a1a1a 100%);
		color: #ffffff;
		padding: clamp(60px, 10vw, 120px) 0;
		position: relative;
		overflow: hidden;
	}

	.container {
		max-width: 1200px;
		margin: 0 auto;
		padding: 0 clamp(20px, 4vw, 40px);
	}

	.intro {
		text-align: center;
		margin-bottom: 60px;
	}

	.intro h2 {
		font-size: clamp(32px, 5vw, 48px);
		font-weight: 700;
		margin: 0 0 16px;
		background: linear-gradient(135deg, #ffffff 0%, #f3c98b 100%);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
		line-height: 1.2;
	}

	.intro p {
		font-size: clamp(18px, 2.5vw, 22px);
		color: rgba(255, 255, 255, 0.8);
		margin: 0;
	}

	/* Carousel */
	.carousel-container {
		position: relative;
		max-width: 800px;
		margin: 0 auto;
	}

	.carousel {
		position: relative;
		overflow: hidden;
		border-radius: 24px;
		box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
	}

	.carousel-track {
		display: flex;
		transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
	}

	.carousel-slide {
		min-width: 100%;
		position: relative;
		aspect-ratio: 16/9;
		background: #000;
	}

	.carousel-slide video {
		width: 100%;
		height: 100%;
		object-fit: cover;
		display: block;
	}

	.slide-info {
		position: absolute;
		bottom: 0;
		left: 0;
		right: 0;
		background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
		padding: 40px 24px 24px;
		color: white;
	}

	.slide-info h3 {
		font-size: 24px;
		font-weight: 600;
		margin: 0;
		text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
	}

	/* Navigation */
	.carousel-nav {
		position: absolute;
		top: 50%;
		transform: translateY(-50%);
		width: 100%;
		display: flex;
		justify-content: space-between;
		padding: 0 20px;
		pointer-events: none;
	}

	.nav-btn {
		width: 48px;
		height: 48px;
		border-radius: 50%;
		background: rgba(0, 0, 0, 0.7);
		border: none;
		color: white;
		cursor: pointer;
		display: flex;
		align-items: center;
		justify-content: center;
		transition: all 0.3s ease;
		pointer-events: auto;
		backdrop-filter: blur(10px);
	}

	.nav-btn:hover {
		background: rgba(0, 0, 0, 0.9);
		transform: scale(1.1);
	}

	.nav-btn:focus-visible {
		outline: 2px solid #f3c98b;
		outline-offset: 2px;
	}

	/* Indicators */
	.carousel-indicators {
		display: flex;
		justify-content: center;
		gap: 12px;
		margin-top: 24px;
	}

	.indicator {
		width: 12px;
		height: 12px;
		border-radius: 50%;
		border: none;
		background: rgba(255, 255, 255, 0.3);
		cursor: pointer;
		transition: all 0.3s ease;
	}

	.indicator.active {
		background: #f3c98b;
		transform: scale(1.2);
	}

	.indicator:hover {
		background: rgba(255, 255, 255, 0.6);
	}

	/* Responsive Design */
	@media (max-width: 768px) {
		.carousel-nav {
			padding: 0 12px;
		}

		.nav-btn {
			width: 40px;
			height: 40px;
		}

		.slide-info {
			padding: 30px 16px 16px;
		}

		.slide-info h3 {
			font-size: 20px;
		}
	}

	@media (max-width: 480px) {
		.carousel {
			border-radius: 16px;
		}

		.nav-btn {
			width: 36px;
			height: 36px;
		}

		.indicator {
			width: 10px;
			height: 10px;
		}
	}

	/* Reduced motion */
	@media (prefers-reduced-motion: reduce) {
		.carousel-track {
			transition: none;
		}

		.nav-btn:hover {
			transform: none;
		}
	}
</style>
